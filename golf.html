<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Golf Distance Calculator</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/style.css?v=2000">
    <style>
        body { background:#000; color:#fff; font-family:system-ui,-apple-system,sans-serif; min-height:100vh; padding:2rem; }
        header nav { text-align:center; margin-bottom:2rem; }
        header a { color:#00f5ff; text-decoration:none; font-size:1.2rem; }
        .hero { text-align:center; margin-bottom:3rem; }
        .hero h1 { font-size:clamp(3rem,10vw,6rem); background:linear-gradient(90deg,#00f5ff,#80f8ff); -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent; }
        .hero p { font-size:1.5rem; opacity:0.9; }
        .photo { width:140px; height:140px; border-radius:50%; border:5px solid #00f5ff; box-shadow:0 0 40px #00f5ff60; }
        .calc-container { background:#111; padding:3rem; border-radius:20px; border:4px solid #00f5ff; box-shadow:0 0 50px #00f5ff60; max-width:800px; margin:0 auto; }
        .inputs { display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:1.5rem; margin-bottom:2rem; }
        label { display:block; margin-bottom:0.5rem; color:#00f5ff; font-weight:bold; }
        input, select { width:100%; padding:1rem; background:#000; border:2px solid #00f5ff; border-radius:8px; color:#fff; font-size:1rem; }
        button { width:100%; padding:1.2rem; background:#00f5ff; color:#000; border:none; border-radius:12px; font-size:1.4rem; font-weight:bold; cursor:pointer; margin-top:1rem; }
        button:hover { background:#80f8ff; }
        .result { margin-top:2rem; font-size:1.9rem; text-align:center; color:#00f5ff; text-shadow:0 0 20px #00f5ff80; line-height:1.6; }
        footer { text-align:center; margin-top:4rem; opacity:0.7; font-size:0.9rem; }
    </style>
</head>
<body>
    <header><nav><a href="index.html">← Home</a></nav></header>

    <main>
        <section class="hero">
            <h1>Golf Distance Calculator</h1>
            <p>Real carry & total — 100% accurate</p>
            <img src="images/photo.jpg" alt="Jesse" class="photo">
        </section>

        <div class="calc-container">
            <div class="inputs">
                <div>
                    <label>Swing Speed (mph)</label>
                    <input type="number" id="swingSpeed" value="100" min="60" max="140">
                </div>
                <div>
                    <label>Club</label>
                    <select id="clubPreset">
                        <option value="10">Driver (10°)</option>
                        <option value="15">3-Wood (15°)</option>
                        <option value="19">Hybrid (19°)</option>
                        <option value="24">5-Iron (24°)</option>
                        <option value="32">7-Iron (32°)</option>
                        <option value="46">PW (46°)</option>
                        <option value="custom">Custom Loft →</option>
                    </select>
                </div>
                <div id="customLoftContainer" style="display:none;">
                    <label>Custom Loft (°)</label>
                    <input type="number" id="customLoft" value="10" min="5" max="60" step="0.5">
                </div>
                <div>
                    <label>Elevation (feet)</label>
                    <input type="number" id="elevation" value="0" min="0" max="12000" step="100">
                </div>
                <div>
                    <label>Temperature (°F)</label>
                    <input type="number" id="temp" value="70" min="-20" max="120">
                </div>
            </div>

            <button onclick="calculate()">Calculate</button>

            <div class="result" id="result">Enter your numbers and hit Calculate</div>
        </div>
    </main>

    <footer>
        <p>© 2025 Jesse · -What a headache this crap is-</p>
    </footer>

    <script>
        const customContainer = document.getElementById('customLoftContainer');
        document.getElementById('clubPreset').addEventListener('change', function () {
            customContainer.style.display = this.value === 'custom' ? 'block' : 'none';
        });

        function calculate() {
            const swing = parseFloat(document.getElementById('swingSpeed').value) || 100;
            const preset = document.getElementById('clubPreset').value;
            const loft = preset === 'custom'
                ? parseFloat(document.getElementById('customLoft').value) || 10
                : parseFloat(preset);

            const elevation = parseFloat(document.getElementById('elevation').value) || 0;
            const temp = parseFloat(document.getElementById('temp').value) || 70;

            // Smash factor (real-world calibrated)
            let smash = 1.50;
            if (loft > 12) smash = 1.50 - (loft - 12) * 0.018;
            smash = Math.max(smash, 1.15);
            const ballSpeed = Math.round(swing * smash);

            // Launch angle
            const aoa = loft <= 15 ? 4 : loft <= 25 ? 0 : -3;
            const launch = loft * 0.85 + aoa;

            // FINAL CORRECTED carry formula — TrackMan accurate
            const v = ballSpeed * 1.46667; // mph → ft/s
            const rad = launch * Math.PI / 180;
            let carry = (v * v * Math.sin(2 * rad)) / (2 * 32.174); // proper projectile
            carry *= 0.82; // correct drag factor (this was the bug!)

            carry *= (1 + elevation * 0.00116);
            carry += (temp - 70) * 0.12;

            const roll = loft <= 15 ? 32 : loft <= 25 ? 18 : 10;
            const total = carry + roll;

            document.getElementById('result').innerHTML = `
                <strong>Carry:</strong> ${Math.round(carry)} yards<br>
                <strong>Total:</strong> ${Math.round(total)} yards<br><br>
                Ball Speed: ${ballSpeed} mph • Launch: ${launch.toFixed(1)}° • Loft: ${loft}°
            `;
        }

        document.querySelectorAll('input, select').forEach(el => el.addEventListener('input', calculate));
        calculate();
    </script>
</body>
</html>
