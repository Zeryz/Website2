<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pong</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/style.css?v=100">
    <style>
        body { 
            margin:0; 
            background:#000; 
            color:#fff; 
            font-family:system-ui,-apple-system,sans-serif; 
            min-height:100vh; 
            display:flex; 
            flex-direction:column; 
            align-items:center; 
            justify-content:center;
        }
        header nav { 
            position:absolute; 
            top:20px; 
            left:50%; 
            transform:translateX(-50%);
        }
        header a { 
            color:#00f5ff; 
            text-decoration:none; 
            font-size:1.2rem; 
        }
        canvas { 
            border:4px solid #00f5ff; 
            box-shadow:0 0 50px #00f5ff60; 
            border-radius:12px; 
        }
        .score {
            position:absolute;
            top:80px;
            font-size:3rem;
            font-weight:bold;
            color:#00f5ff;
            text-shadow:0 0 20px #00f5ff;
        }
        .score-left  { left:20%; }
        .score-right { right:20%; }
        footer { 
            position:absolute; 
            bottom:20px; 
            font-size:0.9rem; 
            opacity:0.7; 
        }
    </style>
</head>
<body>
    <header><nav><a href="index.html">← Home</a></nav></header>

    <h1 style="margin-bottom:1rem; background:linear-gradient(90deg,#00f5ff,#80f8ff); -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent; font-size:clamp(3rem,10vw,6rem);">
        PONG
    </h1>

    <div class="score score-left" id="playerScore">0</div>
    <div class="score score-right" id="aiScore">0</div>

    <canvas id="game" width="800" height="500"></canvas>

    <footer>
        <p>© 2025 Jesse · -What a headache this crap is-</p>
    </footer>

    <script>
        const canvas = document.getElementById('game');
        const ctx = canvas.getContext('2d');
        const playerScoreEl = document.getElementById('playerScore');
        const aiScoreEl = document.getElementById('aiScore');

        let playerY = 200;
        let aiY = 200;
        let ballX = 400;
        let ballY = 250;
        let ballSpeedX = 5;
        let ballSpeedY = 3;
        let playerScore = 0;
        let aiScore = 0;

        const paddleHeight = 100;
        const paddleWidth = 15;
        const ballSize = 12;

        document.addEventListener('keydown', e => {
            if (e.key === 'w' || e.key === 'W' || e.key === 'ArrowUp') playerY = Math.max(0, playerY - 30);
            if (e.key === 's' || e.key === 'S' || e.key === 'ArrowDown') playerY = Math.min(canvas.height - paddleHeight, playerY + 30);
        });

        function draw() {
            // Clear
            ctx.fillStyle = '#000';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Center line
            ctx.setLineDash([10, 10]);
            ctx.strokeStyle = '#00f5ff40';
            ctx.lineWidth = 4;
            ctx.beginPath();
            ctx.moveTo(canvas.width / 2, 0);
            ctx.lineTo(canvas.width / 2, canvas.height);
            ctx.stroke();
            ctx.setLineDash([]);

            // Paddles
            ctx.fillStyle = '#00f5ff';
            ctx.fillRect(20, playerY, paddleWidth, paddleHeight);           // Player
            ctx.fillRect(canvas.width - 35, aiY, paddleWidth, paddleHeight); // AI

            // Ball
            ctx.beginPath();
            ctx.arc(ballX, ballY, ballSize, 0, Math.PI * 2);
            ctx.fillStyle = '#fff';
            ctx.fill();

            // Scores
            playerScoreEl.textContent = playerScore;
            aiScoreEl.textContent = aiScore;
        }

        function update() {
            // Ball movement
            ballX += ballSpeedX;
            ballY += ballSpeedY;

            // Ball bounce top/bottom
            if (ballY <= ballSize || ballY >= canvas.height - ballSize) ballSpeedY *= -1;

            // AI paddle follows ball (with slight delay)
            if (aiY + paddleHeight / 2 < ballY) aiY += 4;
            if (aiY + paddleHeight / 2 > ballY) aiY -= 4;

            // Player paddle collision
            if (ballX - ballSize < 35 && ballY > playerY && ballY < playerY + paddleHeight) {
                ballSpeedX = Math.abs(ballSpeedX) + 0.2;
                ballSpeedY += (ballY - (playerY + paddleHeight / 2)) * 0.1;
            }

            // AI paddle collision
            if (ballX + ballSize > canvas.width - 35 && ballY > aiY && ballY < aiY + paddleHeight) {
                ballSpeedX = -Math.abs(ballSpeedX) - 0.2;
                ballSpeedY += (ballY - (aiY + paddleHeight / 2)) * 0.1;
            }

            // Scoring
            if (ballX < 0) { aiScore++; resetBall(); }
            if (ballX > canvas.width) { playerScore++; resetBall(); }

            // Victory
            if (playerScore >= 10 || aiScore >= 10) {
                alert(`${playerScore >= 10 ? 'You' : 'AI'} win! Final score: ${playerScore}-${aiScore}`);
                playerScore = aiScore = 0;
                resetBall();
            }
        }

        function resetBall() {
            ballX = canvas.width / 2;
            ballY = canvas.height / 2;
            ballSpeedX = (Math.random() > 0.5 ? 5 : -5);
            ballSpeedY = Math.random() * 6 - 3;
        }

        function gameLoop() {
            update();
            draw();
            requestAnimationFrame(gameLoop);
        }

        resetBall();
        gameLoop();
    </script>
</body>
</html>
